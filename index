<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tarot Oracle</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Cinzel:wght@400;700&display=swap');
        
        :root {
            --gold: #fbbf24;
            --indigo-deep: #1e1b4b;
        }

        body {
            background-color: #020617;
            color: #f1f5f9;
            font-family: ui-sans-serif, system-ui, -apple-system, sans-serif;
            margin: 0;
            overflow-x: hidden;
        }

        .font-serif { font-family: 'Cinzel', serif; }
        
        /* Perspective for card flips */
        .perspective { perspective: 1000px; }
        
        /* Custom Animations */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes cardEntrance {
            from { opacity: 0; transform: scale(0.8) translateY(30px); }
            to { opacity: 1; transform: scale(1) translateY(0); }
        }

        @keyframes spin {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        .animate-fade { animation: fadeIn 0.6s ease-out forwards; }
        .animate-card { animation: cardEntrance 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards; }
        .animate-spin-custom { animation: spin 1s linear infinite; }

        /* Card Styling */
        .tarot-card-inner {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }

        .reversed { transform: rotate(180deg); }

        .glow-hover:hover {
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.2);
            border-color: rgba(251, 191, 36, 0.5);
        }
    </style>
</head>
<body>

    <!-- Navigation -->
    <nav class="fixed top-0 w-full z-50 bg-slate-950/80 backdrop-blur-md border-b border-amber-900/20 px-6 py-4 flex justify-between items-center">
        <div class="flex items-center gap-2 cursor-pointer" onclick="router.go('home')">
            <div class="p-2 bg-amber-600 rounded-lg shadow-lg">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2"><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></svg>
            </div>
            <span class="text-xl font-serif font-bold tracking-tight text-amber-100">Tarot Oracle</span>
        </div>
        <div class="flex gap-4 sm:gap-6">
            <button onclick="router.go('reading')" class="text-sm font-medium text-slate-400 hover:text-amber-400 transition-colors flex items-center gap-1">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><rect x="3" y="3" width="7" height="7"/><rect x="14" y="3" width="7" height="7"/><rect x="14" y="14" width="7" height="7"/><rect x="3" y="14" width="7" height="7"/></svg>
                <span class="hidden sm:inline">Reading</span>
            </button>
            <button onclick="router.go('deck')" class="text-sm font-medium text-slate-400 hover:text-amber-400 transition-colors flex items-center gap-1">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><circle cx="12" cy="12" r="10"/><path d="M12 16v-4"/><path d="M12 8h.01"/></svg>
                <span class="hidden sm:inline">The Deck</span>
            </button>
        </div>
    </nav>

    <!-- App Container -->
    <main id="app" class="pt-24 pb-12 px-6 max-w-6xl mx-auto min-h-screen"></main>

    <!-- Modal Overlay -->
    <div id="modal" class="fixed inset-0 z-[100] bg-slate-950/90 backdrop-blur-xl hidden items-center justify-center p-6 animate-fade"></div>

    <script>
        // --- Data ---
        const TAROT_DECK = [
            { id: 0, name: "The Fool", arcana: "Major", img: "üÉè", upright: "New beginnings, optimism, trust in life.", reversed: "Recklessness, risk-taking, consideration." },
            { id: 1, name: "The Magician", arcana: "Major", img: "ü™Ñ", upright: "Action, power, manifestation.", reversed: "Manipulation, poor planning, untapped talents." },
            { id: 2, name: "The High Priestess", arcana: "Major", img: "üåô", upright: "Intuition, sacred knowledge, subconscious mind.", reversed: "Secrets, disconnected from intuition, withdrawal." },
            { id: 3, name: "The Empress", arcana: "Major", img: "üåø", upright: "Femininity, beauty, nature, abundance.", reversed: "Creative block, dependence on others." },
            { id: 4, name: "The Emperor", arcana: "Major", img: "üëë", upright: "Authority, establishment, structure.", reversed: "Domination, excessive control, rigidity." },
            { id: 5, name: "The Hierophant", arcana: "Major", img: "üèõÔ∏è", upright: "Spiritual wisdom, religious beliefs, tradition.", reversed: "Personal beliefs, freedom, challenging the status quo." },
            { id: 6, name: "The Lovers", arcana: "Major", img: "‚ù§Ô∏è", upright: "Love, harmony, relationships, choices.", reversed: "Self-love, disharmony, imbalance, misalignment." },
            { id: 7, name: "The Chariot", arcana: "Major", img: "‚öîÔ∏è", upright: "Control, willpower, success, action.", reversed: "Self-discipline, opposition, lack of direction." },
            { id: 8, name: "Strength", arcana: "Major", img: "ü¶Å", upright: "Strength, courage, persuasion, influence.", reversed: "Inner strength, self-doubt, low energy." },
            { id: 9, name: "The Hermit", arcana: "Major", img: "üèÆ", upright: "Soul-searching, introspection, being alone.", reversed: "Isolation, loneliness, withdrawal." },
            { id: 10, name: "Wheel of Fortune", arcana: "Major", img: "üé°", upright: "Good luck, karma, life cycles, destiny.", reversed: "Bad luck, resistance to change, breaking cycles." },
            { id: 11, name: "Justice", arcana: "Major", img: "‚öñÔ∏è", upright: "Justice, fairness, truth, cause and effect.", reversed: "Unfairness, lack of accountability, dishonesty." },
            { id: 12, name: "The Hanged Man", arcana: "Major", img: "üë£", upright: "Pause, surrender, letting go, new perspectives.", reversed: "Delays, resistance, stalling, indecision." },
            { id: 13, name: "Death", arcana: "Major", img: "üíÄ", upright: "Endings, change, transformation, transition.", reversed: "Resistance to change, personal transformation, inner purging." },
            { id: 14, name: "Temperance", arcana: "Major", img: "üç∑", upright: "Balance, moderation, patience, purpose.", reversed: "Imbalance, excess, self-healing, re-alignment." },
            { id: 15, name: "The Devil", arcana: "Major", img: "üî•", upright: "Shadow self, attachment, addiction, restriction.", reversed: "Releasing limiting beliefs, exploring dark thoughts, detachment." },
            { id: 16, name: "The Tower", arcana: "Major", img: "‚ö°", upright: "Sudden change, upheaval, chaos, revelation.", reversed: "Personal transformation, fear of change, averting disaster." },
            { id: 17, name: "The Star", arcana: "Major", img: "‚ú®", upright: "Hope, faith, purpose, renewal, spirituality.", reversed: "Lack of faith, despair, self-trust, disconnection." },
            { id: 18, name: "The Moon", arcana: "Major", img: "üåí", upright: "Illusion, fear, anxiety, subconscious, intuition.", reversed: "Release of fear, repressed emotion, inner confusion." },
            { id: 19, name: "The Sun", arcana: "Major", img: "‚òÄÔ∏è", upright: "Positivity, fun, warmth, success, vitality.", reversed: "Inner child, feeling down, overly optimistic." },
            { id: 20, name: "Judgement", arcana: "Major", img: "üé∫", upright: "Judgement, rebirth, inner calling, absolution.", reversed: "Self-doubt, inner-critic, ignoring the call." },
            { id: 21, name: "The World", arcana: "Major", img: "üåç", upright: "Completion, integration, accomplishment, travel.", reversed: "Seeking personal closure, short-cuts, delays." }
        ];

        // Minor Arcana Generation
        ["Wands", "Cups", "Swords", "Pentacles"].forEach((suit, suitIdx) => {
            ["Ace", "Two", "Three", "Four", "Five", "Six", "Seven", "Eight", "Nine", "Ten", "Page", "Knight", "Queen", "King"].forEach((rank, rankIdx) => {
                TAROT_DECK.push({
                    id: 22 + (suitIdx * 14) + rankIdx,
                    name: `${rank} of ${suit}`,
                    arcana: "Minor",
                    suit: suit,
                    img: suit === "Wands" ? "üî•" : suit === "Cups" ? "üíß" : suit === "Swords" ? "üí®" : "‚õ∞Ô∏è",
                    upright: `${rank} of ${suit} represents ${suit.toLowerCase()} energy in an active, positive state.`,
                    reversed: `The reversed ${rank} of ${suit} suggests blocked or internal struggles regarding ${suit.toLowerCase()}.`
                });
            });
        });

        // --- Router & State ---
        const router = {
            currentView: 'home',
            spread: [],
            isShuffling: false,

            go(view) {
                this.currentView = view;
                this.render();
                window.scrollTo(0, 0);
            },

            render() {
                const app = document.getElementById('app');
                app.innerHTML = '';
                
                if (this.currentView === 'home') app.appendChild(this.viewHome());
                else if (this.currentView === 'reading') app.appendChild(this.viewReading());
                else if (this.currentView === 'deck') app.appendChild(this.viewDeck());
            },

            // --- Views ---
            viewHome() {
                const container = document.createElement('div');
                container.className = 'flex flex-col items-center text-center mt-12 sm:mt-24 space-y-8 animate-fade';
                container.innerHTML = `
                    <h1 class="text-5xl sm:text-7xl font-serif font-bold text-transparent bg-clip-text bg-gradient-to-b from-amber-100 to-amber-500 leading-tight">
                        Seek Ancient Wisdom
                    </h1>
                    <p class="text-slate-400 max-w-lg text-lg leading-relaxed">
                        Step into the realm of intuition. Consult the oracle for guidance on your past, present, and the path that lies ahead.
                    </p>
                    <div class="pt-4">
                        <button onclick="router.drawSpread()" class="px-8 py-4 bg-amber-600 hover:bg-amber-500 text-white rounded-full font-bold shadow-xl transition-all flex items-center gap-2">
                            <span id="shuffle-icon"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M2 18L6 14M2 6L22 18M22 6L16 10M12 12L22 18M12 12L6 14M2 18L10 12"/></svg></span>
                            Get a Reading
                        </button>
                    </div>
                `;
                return container;
            },

            viewReading() {
                const container = document.createElement('div');
                container.className = 'space-y-12 animate-fade';
                
                let spreadHtml = '';
                if (this.spread.length > 0) {
                    spreadHtml = `
                        <div class="text-center">
                            <h2 class="text-3xl font-serif font-bold text-amber-200">The Three Card Spread</h2>
                            <p class="text-slate-500 mt-2">Past ‚Ä¢ Present ‚Ä¢ Future</p>
                        </div>
                        <div class="flex flex-wrap justify-center gap-8 py-8">
                            ${this.spread.map((card, i) => `
                                <div class="flex flex-col items-center space-y-6 animate-card" style="animation-delay: ${i * 200}ms">
                                    <div class="text-amber-500 font-serif font-bold text-xl opacity-60">
                                        ${i === 0 ? "The Past" : i === 1 ? "The Present" : "The Future"}
                                    </div>
                                    ${this.createCardHtml(card)}
                                    <div class="max-w-[180px] text-center">
                                        <p class="text-xs text-slate-400 italic leading-relaxed">
                                            ${card.isReversed ? card.reversed : card.upright}
                                        </p>
                                    </div>
                                </div>
                            `).join('')}
                        </div>
                        <div class="flex justify-center">
                            <button onclick="router.drawSpread()" class="px-6 py-2 border border-amber-600 text-amber-500 rounded-full hover:bg-amber-600 hover:text-white transition-all text-xs font-bold tracking-widest uppercase">
                                Redraw Fate
                            </button>
                        </div>
                    `;
                } else {
                    spreadHtml = `
                        <div class="flex flex-col items-center gap-12 mt-12">
                             <div class="flex gap-4 opacity-20">
                                <div class="w-32 h-48 border-2 border-dashed border-amber-500/30 rounded-xl"></div>
                                <div class="w-32 h-48 border-2 border-dashed border-amber-500/30 rounded-xl"></div>
                                <div class="w-32 h-48 border-2 border-dashed border-amber-500/30 rounded-xl"></div>
                             </div>
                             <button onclick="router.drawSpread()" class="px-8 py-4 bg-amber-600 text-white rounded-full font-bold flex items-center gap-2">
                                Shuffle and Draw
                             </button>
                        </div>
                    `;
                }
                
                container.innerHTML = spreadHtml;
                return container;
            },

            viewDeck() {
                const container = document.createElement('div');
                container.className = 'space-y-8 animate-fade';
                container.innerHTML = `
                    <div class="border-b border-amber-900/20 pb-6">
                        <h2 class="text-4xl font-serif font-bold text-amber-200">The Sacred Deck</h2>
                        <p class="text-slate-400">78 cards including Major and Minor Arcana</p>
                    </div>
                    <div class="grid grid-cols-2 sm:grid-cols-4 md:grid-cols-6 gap-6">
                        ${TAROT_DECK.map(card => `
                            <div class="flex flex-col items-center scale-75 sm:scale-100">
                                ${this.createCardHtml(card, true)}
                                <span class="text-[10px] text-slate-500 mt-2 text-center uppercase tracking-tighter truncate w-full px-2">
                                    ${card.name}
                                </span>
                            </div>
                        `).join('')}
                    </div>
                `;
                return container;
            },

            // --- Helpers ---
            createCardHtml(card, small = false) {
                const sizeClasses = small ? 'w-24 h-40' : 'w-40 h-64';
                const revClass = card.isReversed ? 'reversed' : '';
                
                return `
                    <div onclick="router.showDetail(${card.id}, ${card.isReversed || false})" class="relative ${sizeClasses} cursor-pointer glow-hover rounded-xl transition-all duration-300">
                        <div class="w-full h-full rounded-xl border-2 border-amber-900/30 bg-gradient-to-br from-indigo-950 to-purple-950 flex flex-col items-center justify-center p-4 text-center ${revClass}">
                            <div class="${small ? 'text-2xl' : 'text-4xl'} mb-2">${card.img}</div>
                            <h3 class="font-serif font-bold text-amber-200 leading-tight ${small ? 'text-[10px]' : 'text-sm'}">${card.name}</h3>
                            <p class="text-[8px] text-amber-400/40 uppercase mt-1 tracking-widest">${card.arcana}</p>
                        </div>
                    </div>
                `;
            },

            drawSpread() {
                if (this.isShuffling) return;
                this.isShuffling = true;
                
                // Visual feedback on button if on home
                const btnIcon = document.getElementById('shuffle-icon');
                if (btnIcon) btnIcon.classList.add('animate-spin-custom');

                setTimeout(() => {
                    const shuffled = [...TAROT_DECK]
                        .sort(() => Math.random() - 0.5)
                        .slice(0, 3)
                        .map(c => ({
                            ...c,
                            isReversed: Math.random() > 0.7
                        }));
                    
                    this.spread = shuffled;
                    this.isShuffling = false;
                    this.go('reading');
                }, 1000);
            },

            showDetail(id, isReversed) {
                const card = TAROT_DECK.find(c => c.id === id);
                const modal = document.getElementById('modal');
                
                modal.innerHTML = `
                    <div class="bg-indigo-950 border border-amber-400/30 rounded-3xl p-8 max-w-2xl w-full shadow-2xl flex flex-col md:flex-row gap-8 relative overflow-hidden" onclick="event.stopPropagation()">
                        <div class="flex-shrink-0 flex flex-col items-center">
                            <div class="w-48 h-80 rounded-2xl bg-gradient-to-br from-indigo-900 to-purple-900 border-2 border-amber-400/40 flex flex-col items-center justify-center p-6 text-center ${isReversed ? 'reversed' : ''}">
                                <div class="text-6xl mb-6">${card.img}</div>
                                <h3 class="text-2xl font-serif font-bold text-amber-200">${card.name}</h3>
                                <p class="text-xs text-amber-400/60 uppercase mt-2 tracking-widest">${card.arcana}</p>
                            </div>
                            <button onclick="router.closeDetail()" class="mt-6 w-full py-2 bg-slate-900 hover:bg-slate-800 rounded-lg text-sm text-slate-400 transition-colors font-bold">CLOSE</button>
                        </div>
                        <div class="flex-grow space-y-6">
                            <div>
                                <h4 class="text-amber-100 font-bold uppercase text-xs tracking-widest mb-2 flex items-center gap-2">
                                    <span class="w-2 h-2 bg-emerald-400 rounded-full"></span> Upright Meaning
                                </h4>
                                <p class="text-slate-300 leading-relaxed text-lg italic">"${card.upright}"</p>
                            </div>
                            <div>
                                <h4 class="text-amber-100 font-bold uppercase text-xs tracking-widest mb-2 flex items-center gap-2">
                                    <span class="w-2 h-2 bg-rose-400 rounded-full"></span> Reversed Meaning
                                </h4>
                                <p class="text-slate-300 leading-relaxed text-lg italic">"${card.reversed}"</p>
                            </div>
                        </div>
                    </div>
                `;
                
                modal.classList.remove('hidden');
                modal.classList.add('flex');
                
                // Close on background click
                modal.onclick = () => this.closeDetail();
            },

            closeDetail() {
                const modal = document.getElementById('modal');
                modal.classList.add('hidden');
                modal.classList.remove('flex');
            }
        };

        // Initialize
        window.onload = () => router.render();
    </script>
</body>
</html>
